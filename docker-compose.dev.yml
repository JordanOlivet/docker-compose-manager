# docker-compose.dev.yml
# Fichier de configuration pour le développement local
# Utilise les builds locaux au lieu des images du registry
#
# Usage:
#   docker compose -f docker-compose.yml -f docker-compose.dev.yml up --build

services:
  app:
    # Override l'image par un build local
    build:
      context: .
      dockerfile: Dockerfile
      args:
        VERSION: 0.0.1-dev
        ASSEMBLY_VERSION: 0.0.1
        BUILD_DATE: "2026-01-27"
        VCS_REF: dev
        VITE_APP_VERSION: 0.0.1-dev
        VITE_BUILD_DATE: "2026-01-27"
        VITE_GIT_COMMIT: dev
    image: docker-compose-manager:dev
    environment:
      # Configuration pour le développement
      - ASPNETCORE_ENVIRONMENT=Development
      - Serilog__MinimumLevel__Default=Debug
    volumes:
      # Montage du bureau pour tester la découverte de fichiers compose
      - C:\Users\Lakio\Desktop:/app/compose-files
