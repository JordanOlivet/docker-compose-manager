import{f as w,a as u,c as ge,d as Be,t as ve,e as ar}from"./AQshOrwM.js";import{p as Ke,a as Oe,c as a,r,f as be,b as qe,k as Je,s as o,g as e,t as R,d as ye,e as _e,u as sr,n as je,b9 as tr}from"./BGIsFGxD.js";import{s as v}from"./CK6JJk40.js";import{a as or,e as oe,i as ie,r as Me,g as Ve,c as ze}from"./BIIYjbM9.js";import{r as ir,i as q,p as We,b as Ye,a as Ze}from"./BBZnTf8d.js";import{b as nr}from"./jbU8H10p.js";import{a as E,t as er}from"./DNE0aubT.js";import{B as $e}from"./BZEFvVZa.js";import{I as dr}from"./FLXc8Hxn.js";import{s as lr}from"./4pOCAdSq.js";import{c as ur}from"./CXvqTlXp.js";import{X as cr}from"./Dkv5VvjD.js";import"./B9IV9xzZ.js";import"./B4PLRw1v.js";import"./Bmet6DEc.js";import{c as pr}from"./BVN2tSMg.js";import{c as mr}from"./C1OtUQtP.js";import{P as m,b as ee,a as vr,g as gr}from"./Ct22xFuM.js";import{c as Qe}from"./Dw9yDBlQ.js";import{T as br}from"./BJjaivRV.js";import{P as yr}from"./DiIcC3HA.js";import"./lu7k8_0b.js";import"./BUApaBEI.js";import"./CVCFcqur.js";import"./DXzkz7Sz.js";import{u as _r}from"./ygxaYeff.js";import{c as Xe}from"./Bri70JPp.js";import{t as Re}from"./CUtoxrzn.js";const He={list:async()=>(await E.get("/usergroups")).data.data,get:async i=>(await E.get(`/usergroups/${i}`)).data.data,create:async i=>{const s={Name:i.name,Description:i.description||null,MemberIds:i.memberIds||[],Permissions:i.permissions?.map(x=>({ResourceType:x.resourceType,ResourceName:x.resourceName,Permissions:x.permissions}))||null};return(await E.post("/usergroups",s)).data.data},update:async(i,s)=>{const l={Name:s.name,Description:s.description||null,Permissions:s.permissions?.map(G=>({ResourceType:G.resourceType,ResourceName:G.resourceName,Permissions:G.permissions}))||null};return(await E.put(`/usergroups/${i}`,l)).data.data},delete:async i=>{await E.delete(`/usergroups/${i}`)},addMember:async(i,s)=>{const l={UserId:s.userId};await E.post(`/usergroups/${i}/members`,l)},removeMember:async(i,s)=>{await E.delete(`/usergroups/${i}/members/${s}`)},getMembers:async i=>(await E.get(`/usergroups/${i}/members`)).data.data},fr={list:async()=>{const i=await E.get("/users",{params:{pageSize:1e3}});return i.data.data.items||i.data.data.Items||[]},get:async i=>(await E.get(`/users/${i}`)).data.data,create:async i=>{const s={Username:i.username,Password:i.password,Role:i.role,Permissions:i.permissions?.map(x=>({ResourceType:x.resourceType,ResourceName:x.resourceName,Permissions:x.permissions}))||null};return(await E.post("/users",s)).data.data},update:async(i,s)=>{const l={};return s.username!==void 0&&(l.Username=s.username),s.role!==void 0&&(l.Role=s.role),s.isEnabled!==void 0&&(l.IsEnabled=s.isEnabled),s.newPassword!==void 0&&(l.NewPassword=s.newPassword),s.permissions!==void 0&&(l.Permissions=s.permissions?.map(G=>({ResourceType:G.resourceType,ResourceName:G.resourceName,Permissions:G.permissions}))||null),(await E.put(`/users/${i}`,l)).data.data},delete:async i=>{await E.delete(`/users/${i}`)},enable:async i=>(await E.put(`/users/${i}/enable`)).data.data,disable:async i=>(await E.put(`/users/${i}/disable`)).data.data};var xr=w("<label><!></label>");function Le(i,s){Ke(s,!0);let l=ir(s,["$$slots","$$events","$$legacy","children","class"]);var x=xr();or(x,P=>({class:P,...l}),[()=>ur("text-sm font-medium leading-none text-gray-900 dark:text-gray-100 peer-disabled:cursor-not-allowed peer-disabled:opacity-70",s.class)]);var G=a(x);{var L=P=>{var c=ge(),p=be(c);lr(p,()=>s.children),u(P,c)};q(G,P=>{s.children&&P(L)})}r(x),u(i,x),Oe()}Be(["click"]);var hr=w('<button type="button" class="px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 hover:scale-105 transition-all duration-200 text-sm font-medium"> </button>'),kr=w('<button type="button" class="flex items-center gap-2 bg-linear-to-r from-blue-600 to-blue-700 text-white px-4 py-2 rounded-lg hover:shadow-lg hover:scale-105 transition-all duration-200 text-sm font-medium"><!> </button>'),wr=w('<p class="text-sm text-gray-500 dark:text-gray-400 text-center py-8 bg-gray-50 dark:bg-gray-700/50 rounded-lg"> </p>'),Pr=w('<label class="flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors"><input type="checkbox" class="h-4 w-4"/> <span class="text-sm font-medium text-gray-900 dark:text-white"> </span></label>'),Cr=w('<span class="px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded text-xs font-medium"> </span>'),Nr=w('<div class="bg-linear-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-xl shadow border border-gray-200 dark:border-gray-700 p-5"><div class="flex justify-between items-start gap-4"><div class="flex-1 space-y-3"><div class="flex items-center gap-2"><span class="px-3 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300 rounded-full text-xs font-medium"> </span> <span class="font-medium text-gray-900 dark:text-white"> </span></div> <div class="space-y-3"><div class="flex gap-2"><button type="button" class="px-3 py-1.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm font-medium">Read Only</button> <button type="button" class="px-3 py-1.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm font-medium">Standard</button> <button type="button" class="px-3 py-1.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm font-medium">Full Access</button></div> <div class="grid grid-cols-4 gap-2"></div> <div class="flex flex-wrap gap-1"></div></div></div> <button type="button" class="p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all"><!></button></div></div>'),Rr=w("<option disabled> </option>"),Tr=w("<option> </option>"),Ir=w('<label class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors"><input type="checkbox" class="h-4 w-4"/> <span class="text-sm font-medium text-gray-900 dark:text-white"> </span></label>'),Dr=w('<div class="border-2 border-dashed border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800/50 rounded-xl p-5 space-y-4"><div class="space-y-2"><label for="resource-type" class="block text-sm font-semibold text-gray-700 dark:text-gray-300">Resource Type</label> <select id="resource-type" class="w-full border border-gray-300 dark:border-gray-600 rounded-xl px-4 py-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"><option>Container</option><option>Compose Project</option></select></div> <div class="space-y-2"><label for="resource-name" class="block text-sm font-semibold text-gray-700 dark:text-gray-300"> </label> <select id="resource-name" class="w-full border border-gray-300 dark:border-gray-600 rounded-xl px-4 py-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"><option> </option><!><!></select></div> <div class="space-y-2"><div class="block text-sm font-semibold text-gray-700 dark:text-gray-300"> </div> <div class="flex gap-2 mb-3"><button type="button" class="px-3 py-1.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm font-medium"> </button> <button type="button" class="px-3 py-1.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm font-medium"> </button> <button type="button" class="px-3 py-1.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm font-medium">Full Access</button></div> <div class="grid grid-cols-4 gap-2"></div></div> <div class="flex justify-end gap-2 pt-2"><button type="button" class="px-5 py-2.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-all font-medium"> </button> <button type="button" class="px-5 py-2.5 bg-linear-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:shadow-lg hover:scale-105 transition-all duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100"> </button></div></div>'),Sr=w('<div class="space-y-4"><div class="flex justify-between items-center"><h3 class="text-base font-semibold text-gray-900 dark:text-white"> </h3> <div class="flex gap-2"><!> <!></div></div> <div class="space-y-3"><!> <!></div> <!></div>');function Ar(i,s){Ke(s,!0);const l=()=>Ye(er,"$t",x),[x,G]=Ze();let L=We(s,"showCopyButton",3,!0),P=qe(!1),c=qe(Je({resourceType:ee.Container,resourceName:"",permissions:m.View}));const p=Qe(()=>({queryKey:["containers"],queryFn:()=>pr.list()})),re=Qe(()=>({queryKey:["compose","projects"],queryFn:()=>mr.listProjects()})),ae=_e(()=>e(c).resourceType===ee.Container?(p.data||[]).map(n=>n.name):(re.data||[]).map(n=>n.name));function ne(){if(!e(c).resourceName)return;if(s.permissions.some(t=>t.resourceType===e(c).resourceType&&t.resourceName===e(c).resourceName)){alert("Permission for this resource already exists");return}s.onChange([...s.permissions,{...e(c)}]),ye(c,{resourceType:ee.Container,resourceName:"",permissions:m.View},!0),ye(P,!1)}function Fe(n){s.onChange(s.permissions.filter((t,g)=>g!==n))}function de(n,t){const g=[...s.permissions];g[n]={...g[n],permissions:t},s.onChange(g)}function fe(n,t){return n&t?n&~t:n|t}function K(n,t){switch(t){case"readonly":return m.View|m.Logs;case"standard":return m.View|m.Start|m.Stop|m.Restart|m.Logs;case"full":return m.View|m.Start|m.Stop|m.Restart|m.Delete|m.Update|m.Logs|m.Execute;default:return n}}const Te=[{flag:m.View,label:"View"},{flag:m.Start,label:"Start"},{flag:m.Stop,label:"Stop"},{flag:m.Restart,label:"Restart"},{flag:m.Delete,label:"Delete"},{flag:m.Update,label:"Update"},{flag:m.Logs,label:"Logs"},{flag:m.Execute,label:"Execute"}];var xe=Sr(),f=a(xe),O=a(f),Ie=a(O,!0);r(O);var le=o(O,2),he=a(le);{var Ge=n=>{var t=hr();t.__click=function(...h){s.onCopyClick?.apply(this,h)};var g=a(t,!0);r(t),R(h=>v(g,h),[()=>l()("permissions.copyFrom")]),u(n,t)};q(he,n=>{L()&&s.onCopyClick&&n(Ge)})}var ke=o(he,2);{var we=n=>{var t=kr();t.__click=()=>ye(P,!0);var g=a(t);yr(g,{class:"h-4 w-4"});var h=o(g);r(t),R(M=>v(h,` ${M??""}`),[()=>l()("permissions.addPermission")]),u(n,t)};q(ke,n=>{e(P)||n(we)})}r(le),r(f);var ue=o(f,2),De=a(ue);{var Pe=n=>{var t=wr(),g=a(t,!0);r(t),R(h=>v(g,h),[()=>l()("permissions.noPermissionsAssigned")]),u(n,t)};q(De,n=>{s.permissions.length===0&&!e(P)&&n(Pe)})}var Se=o(De,2);oe(Se,17,()=>s.permissions,ie,(n,t,g)=>{var h=Nr(),M=a(h),J=a(M),W=a(J),V=a(W),se=a(V,!0);r(V);var z=o(V,2),ce=a(z,!0);r(z),r(W);var Y=o(W,2),d=a(Y),_=a(d);_.__click=()=>de(g,K(e(t).permissions,"readonly"));var C=o(_,2);C.__click=()=>de(g,K(e(t).permissions,"standard"));var U=o(C,2);U.__click=()=>de(g,K(e(t).permissions,"full")),r(d);var j=o(d,2);oe(j,21,()=>Te,ie,(b,y)=>{let I=()=>e(y).flag,N=()=>e(y).label;var Q=Pr(),$=a(Q);Me($),$.__change=()=>de(g,fe(e(t).permissions,I()));var X=o($,2),pe=a(X,!0);r(X),r(Q),R(()=>{Ve($,(e(t).permissions&I())===I()),v(pe,N())}),u(b,Q)}),r(j);var k=o(j,2);oe(k,21,()=>vr(e(t).permissions),ie,(b,y)=>{var I=Cr(),N=a(I,!0);r(I),R(()=>v(N,e(y))),u(b,I)}),r(k),r(Y),r(J);var T=o(J,2);T.__click=()=>Fe(g);var F=a(T);br(F,{class:"h-5 w-5"}),r(T),r(M),r(h),R(b=>{v(se,b),v(ce,e(t).resourceName)},[()=>gr(e(t).resourceType)]),u(n,h)}),r(ue);var Ae=o(ue,2);{var Ce=n=>{var t=Dr(),g=a(t),h=o(a(g),2);h.__change=()=>e(c).resourceName="";var M=a(h),J={},W=o(M),V={};r(h),r(g);var se=o(g,2),z=a(se),ce=a(z,!0);r(z);var Y=o(z,2),d=a(Y),_=a(d,!0);r(d),d.value=d.__value="";var C=o(d);{var U=D=>{var S=Rr(),A=a(S,!0);r(S);var Z={};R((B,H)=>{v(A,B),Z!==(Z=H)&&(S.__value=H)},[()=>l()("permissions.noResourcesAvailable"),()=>l()("permissions.noResourcesAvailable")]),u(D,S)};q(C,D=>{e(ae).length===0&&D(U)})}var j=o(C);oe(j,17,()=>e(ae),ie,(D,S)=>{var A=Tr(),Z=a(A,!0);r(A);var B={};R(()=>{v(Z,e(S)),B!==(B=e(S))&&(A.value=(A.__value=e(S))??"")}),u(D,A)}),r(Y),r(se);var k=o(se,2),T=a(k),F=a(T,!0);r(T);var b=o(T,2),y=a(b);y.__click=()=>e(c).permissions=K(e(c).permissions,"readonly");var I=a(y,!0);r(y);var N=o(y,2);N.__click=()=>e(c).permissions=K(e(c).permissions,"standard");var Q=a(N,!0);r(N);var $=o(N,2);$.__click=()=>e(c).permissions=K(e(c).permissions,"full"),r(b);var X=o(b,2);oe(X,21,()=>Te,ie,(D,S)=>{let A=()=>e(S).flag,Z=()=>e(S).label;var B=Ir(),H=a(B);Me(H),H.__change=()=>e(c).permissions=fe(e(c).permissions,A());var Ue=o(H,2),rr=a(Ue,!0);r(Ue),r(B),R(()=>{Ve(H,(e(c).permissions&A())===A()),v(rr,Z())}),u(D,B)}),r(X),r(k);var pe=o(k,2),te=a(pe);te.__click=()=>{ye(P,!1),ye(c,{resourceType:ee.Container,resourceName:"",permissions:m.View},!0)};var Ne=a(te,!0);r(te);var me=o(te,2);me.__click=ne;var Ee=a(me,!0);r(me),r(pe),r(t),R((D,S,A,Z,B,H,Ue)=>{J!==(J=ee.Container)&&(M.value=(M.__value=ee.Container)??""),V!==(V=ee.ComposeProject)&&(W.value=(W.__value=ee.ComposeProject)??""),v(ce,D),v(_,S),v(F,A),v(I,Z),v(Q,B),v(Ne,H),me.disabled=!e(c).resourceName,v(Ee,Ue)},[()=>l()("permissions.resourceName"),()=>l()("permissions.selectResource"),()=>l()("permissions.permissions"),()=>l()("permissions.readOnly"),()=>l()("permissions.standard"),()=>l()("common.cancel"),()=>l()("permissions.addPermission")]),ze(h,()=>e(c).resourceType,D=>e(c).resourceType=D),ze(Y,()=>e(c).resourceName,D=>e(c).resourceName=D),u(n,t)};q(Ae,n=>{e(P)&&n(Ce)})}r(xe),R(n=>v(Ie,n),[()=>l()("permissions.resourcePermissions")]),u(i,xe),Oe(),G()}Be(["click","change"]);var Er=w('<p class="text-sm text-gray-500">Loading users...</p>'),Ur=w('<label class="flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors"><input type="checkbox" class="h-4 w-4"/> <div class="flex-1"><div class="flex items-center gap-2"><div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white font-semibold text-sm"> </div> <div><p class="font-medium text-gray-900 dark:text-white"> </p> <p class="text-xs text-gray-500 dark:text-gray-400"> </p></div></div></div></label>'),jr=w('<p class="text-sm text-gray-500">No users available</p>'),Fr=w('<span class="px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-full text-sm font-medium flex items-center gap-2"> <button type="button" class="hover:text-blue-900 dark:hover:text-blue-100"><!></button></span>'),Gr=w('<div class="mt-3 flex flex-wrap gap-2"></div>'),Lr=w('<div class="fixed inset-0 bg-black/50 dark:bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4"><div class="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 w-full max-w-3xl max-h-[90vh] overflow-auto"><div class="p-6 border-b border-gray-200 dark:border-gray-700"><h2 class="text-2xl font-bold text-gray-900 dark:text-white"> </h2></div> <form class="p-6 space-y-6"><div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <textarea id="description" placeholder="Enter group description" class="w-full border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2.5 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all min-h-[80px]"></textarea></div> <div class="border-t border-gray-200 dark:border-gray-700 pt-6"><!> <div class="mt-3 space-y-2 max-h-48 overflow-auto"><!></div> <!></div> <div class="border-t border-gray-200 dark:border-gray-700 pt-6"><!></div> <div class="flex gap-3 pt-4 border-t border-gray-200 dark:border-gray-700"><!> <!></div></form></div></div>');function ma(i,s){Ke(s,!0);const l=()=>Ye(er,"$t",x),[x,G]=Ze();let L=We(s,"group",3,void 0);const P=_e(()=>!!L()),c=_r();let p=qe(Je({name:L()?.name||"",description:L()?.description||"",memberIds:L()?.memberIds||[],permissions:[]}));sr(()=>{L()&&ye(p,{name:L().name,description:L().description||"",memberIds:L().memberIds||[],permissions:[]},!0)});const re=Qe(()=>({queryKey:["users"],queryFn:()=>fr.list()})),ae=Xe(()=>({mutationFn:()=>He.create({name:e(p).name,description:e(p).description,memberIds:e(p).memberIds,permissions:e(p).permissions}),onSuccess:()=>{c.invalidateQueries({queryKey:["userGroups"]}),Re.success("Group created successfully"),s.onClose()},onError:f=>{Re.error(f.response?.data?.message||"Failed to create group")}})),ne=Xe(()=>({mutationFn:()=>He.update(L().id,{name:e(p).name,description:e(p).description,permissions:e(p).permissions}),onSuccess:()=>{c.invalidateQueries({queryKey:["userGroups"]}),Re.success("Group updated successfully"),s.onClose()},onError:f=>{Re.error(f.response?.data?.message||"Failed to update group")}}));function Fe(f){if(f.preventDefault(),!e(p).name){Re.error("Please enter a group name");return}e(P)?ne.mutate():ae.mutate()}function de(f){e(p).permissions=f}function fe(f){e(p).memberIds.includes(f)?e(p).memberIds=e(p).memberIds.filter(O=>O!==f):e(p).memberIds=[...e(p).memberIds,f]}var K=ge(),Te=be(K);{var xe=f=>{var O=Lr(),Ie=a(O),le=a(Ie),he=a(le),Ge=a(he,!0);r(he),r(le);var ke=o(le,2),we=a(ke),ue=a(we);Le(ue,{for:"name",children:(d,_)=>{je();var C=ve("Group Name *");u(d,C)},$$slots:{default:!0}});var De=o(ue,2);dr(De,{id:"name",type:"text",placeholder:"Enter group name",required:!0,get value(){return e(p).name},set value(d){e(p).name=d}}),r(we);var Pe=o(we,2),Se=a(Pe);Le(Se,{for:"description",children:(d,_)=>{je();var C=ve("Description");u(d,C)},$$slots:{default:!0}});var Ae=o(Se,2);tr(Ae),r(Pe);var Ce=o(Pe,2),n=a(Ce);Le(n,{children:(d,_)=>{je();var C=ve("Members");u(d,C)},$$slots:{default:!0}});var t=o(n,2),g=a(t);{var h=d=>{var _=Er();u(d,_)},M=d=>{var _=ge(),C=be(_);{var U=k=>{var T=ge(),F=be(T);oe(F,17,()=>re.data,ie,(b,y)=>{var I=Ur(),N=a(I);Me(N),N.__change=()=>fe(e(y).id);var Q=o(N,2),$=a(Q),X=a($),pe=a(X,!0);r(X);var te=o(X,2),Ne=a(te),me=a(Ne,!0);r(Ne);var Ee=o(Ne,2),D=a(Ee,!0);r(Ee),r(te),r($),r(Q),r(I),R((S,A)=>{Ve(N,S),v(pe,A),v(me,e(y).username),v(D,e(y).role)},[()=>e(p).memberIds.includes(e(y).id),()=>e(y).username.charAt(0).toUpperCase()]),u(b,I)}),u(k,T)},j=k=>{var T=jr();u(k,T)};q(C,k=>{re.data&&re.data.length>0?k(U):k(j,!1)},!0)}u(d,_)};q(g,d=>{re.isLoading?d(h):d(M,!1)})}r(t);var J=o(t,2);{var W=d=>{var _=Gr();oe(_,21,()=>e(p).memberIds,ie,(C,U)=>{const j=_e(()=>re.data?.find(b=>b.id===e(U)));var k=ge(),T=be(k);{var F=b=>{var y=Fr(),I=a(y),N=o(I);N.__click=()=>fe(e(U));var Q=a(N);cr(Q,{class:"w-3 h-3"}),r(N),r(y),R(()=>v(I,`${e(j).username??""} `)),u(b,y)};q(T,b=>{e(j)&&b(F)})}u(C,k)}),r(_),u(d,_)};q(J,d=>{e(p).memberIds.length>0&&d(W)})}r(Ce);var V=o(Ce,2),se=a(V);{let d=_e(()=>e(P)&&!!s.onCopyPermissionsClick);Ar(se,{get permissions(){return e(p).permissions},onChange:de,get onCopyClick(){return s.onCopyPermissionsClick},get showCopyButton(){return e(d)}})}r(V);var z=o(V,2),ce=a(z);{let d=_e(()=>ae.isPending||ne.isPending);$e(ce,{type:"submit",get disabled(){return e(d)},class:"flex-1",children:(_,C)=>{var U=ge(),j=be(U);{var k=F=>{var b=ve();R(y=>v(b,`${y??""}...`),[()=>l()("common.saving")]),u(F,b)},T=F=>{var b=ve();R(y=>v(b,y),[()=>e(P)?l()("common.update"):l()("common.create")]),u(F,b)};q(j,F=>{ae.isPending||ne.isPending?F(k):F(T,!1)})}u(_,U)},$$slots:{default:!0}})}var Y=o(ce,2);{let d=_e(()=>ae.isPending||ne.isPending);$e(Y,{type:"button",variant:"outline",get onclick(){return s.onClose},get disabled(){return e(d)},class:"flex-1",children:(_,C)=>{je();var U=ve();R(j=>v(U,j),[()=>l()("common.cancel")]),u(_,U)},$$slots:{default:!0}})}r(z),r(ke),r(Ie),r(O),R(()=>v(Ge,e(P)?"Edit User Group":"Create User Group")),ar("submit",ke,Fe),nr(Ae,()=>e(p).description,d=>e(p).description=d),u(f,O)};q(Te,f=>{s.open&&f(xe)})}u(i,K),Oe(),G()}Be(["change","click"]);export{Le as L,Ar as P,ma as U,fr as a,He as u};
