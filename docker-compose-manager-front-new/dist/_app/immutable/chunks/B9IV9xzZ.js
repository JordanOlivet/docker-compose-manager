import{c as C,a as v,d as Y,f as $,e as ne}from"./AQshOrwM.js";import{f as U,p as Z,c as o,r,t as I,a as ee,aI as le,d as q,g,b as te,s as u,e as de}from"./BGIsFGxD.js";import{s as m}from"./CK6JJk40.js";import{l as j,s as A,p as re,i as E,a as oe,b as se}from"./BBZnTf8d.js";import{b as X,e as ie,i as ce,s as ae}from"./BIIYjbM9.js";import{g as ue}from"./lu7k8_0b.js";import{I as O,s as D,e as W,f as ge,g as ve,b as B,t as pe,d as he}from"./DNE0aubT.js";import{a as me}from"./czhzdzqV.js";import{t as be,i as fe}from"./DXzkz7Sz.js";import"./CVCFcqur.js";import{b as xe}from"./DGg9txeK.js";function _e(d,a){const s=j(a,["children","$$slots","$$events","$$legacy"]);const n=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}],["path",{d:"M2 12h20"}]];O(d,A({name:"globe"},()=>s,{get iconNode(){return n},children:(i,p)=>{var e=C(),t=U(e);D(t,a,"default",{}),v(i,e)},$$slots:{default:!0}}))}function $e(d,a){const s=j(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"m16 17 5-5-5-5"}],["path",{d:"M21 12H9"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}]];O(d,A({name:"log-out"},()=>s,{get iconNode(){return n},children:(i,p)=>{var e=C(),t=U(e);D(t,a,"default",{}),v(i,e)},$$slots:{default:!0}}))}function ye(d,a){const s=j(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M4 5h16"}],["path",{d:"M4 12h16"}],["path",{d:"M4 19h16"}]];O(d,A({name:"menu"},()=>s,{get iconNode(){return n},children:(i,p)=>{var e=C(),t=U(e);D(t,a,"default",{}),v(i,e)},$$slots:{default:!0}}))}function ke(d,a){const s=j(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"}]];O(d,A({name:"moon"},()=>s,{get iconNode(){return n},children:(i,p)=>{var e=C(),t=U(e);D(t,a,"default",{}),v(i,e)},$$slots:{default:!0}}))}function we(d,a){const s=j(a,["children","$$slots","$$events","$$legacy"]);const n=[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]];O(d,A({name:"sun"},()=>s,{get iconNode(){return n},children:(i,p)=>{var e=C(),t=U(e);D(t,a,"default",{}),v(i,e)},$$slots:{default:!0}}))}var Me=$('<button aria-label="Toggle theme"><!></button>');function Ne(d,a){Z(a,!0);let s=re(a,"class",3,"");var n=Me();n.__click=()=>be();var i=o(n);{var p=t=>{we(t,{class:"w-5 h-5 text-gray-600 dark:text-gray-400"})},e=t=>{ke(t,{class:"w-5 h-5 text-gray-600 dark:text-gray-400"})};E(i,t=>{fe.current?t(p):t(e,!1)})}r(n),I(()=>X(n,1,`p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors ${s()??""}`)),v(d,n),ee()}Y(["click"]);var Le=$('<span class="ml-auto text-blue-600 dark:text-blue-400">âœ“</span>'),ze=$('<button><span class="text-xl"> </span> <span class="text-sm font-medium"> </span> <!></button>'),Se=$('<div class="absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-[9999]"></div>'),Te=$('<div><button class="flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 hover:scale-105" aria-label="Select language"><!> <span class="text-lg"> </span> <span class="text-sm font-medium text-gray-700 dark:text-gray-200 hidden sm:inline"> </span></button> <!></div>');function Pe(d,a){Z(a,!0);const s=()=>se(ge,"$locale",n),[n,i]=oe();let p=re(a,"class",3,""),e=te(!1),t=te(null);const y=de(()=>W.find(l=>l.code===s())||W[0]);function f(l){ve(l),q(e,!1)}function F(l){g(t)&&!g(t).contains(l.target)&&q(e,!1)}var b=Te();ne("click",le,F);var k=o(b);k.__click=()=>q(e,!g(e));var L=o(k);_e(L,{class:"w-4 h-4 text-gray-600 dark:text-gray-300"});var w=u(L,2),G=o(w,!0);r(w);var M=u(w,2),z=o(M,!0);r(M),r(k);var J=u(k,2);{var R=l=>{var S=Se();ie(S,21,()=>W,ce,(K,x)=>{var h=ze();h.__click=()=>f(g(x).code);var N=o(h),V=o(N,!0);r(N);var T=u(N,2),c=o(T,!0);r(T);var _=u(T,2);{var P=H=>{var Q=Le();v(H,Q)};E(_,H=>{g(x).code===s()&&H(P)})}r(h),I(()=>{X(h,1,`w-full flex items-center gap-3 px-4 py-2 text-left transition-colors ${g(x).code===s()?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`),m(V,g(x).flag),m(c,g(x).name)}),v(K,h)}),r(S),v(l,S)};E(J,l=>{g(e)&&l(R)})}r(b),xe(b,l=>q(t,l),()=>g(t)),I(l=>{X(b,1,`relative ${p()??""}`),m(G,g(y).flag),m(z,l)},[()=>g(y).code.toUpperCase()]),v(d,b),ee(),i()}Y(["click"]);var He=$('<span class="text-xs px-2 py-0.5 rounded-full bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-200 font-medium"> </span>'),Ie=$('<header class="bg-white dark:bg-gray-800 shadow-md border-b border-gray-200 dark:border-gray-700 transition-all backdrop-blur-sm bg-opacity-95 relative z-[100]"><div class="flex items-center justify-between h-16 px-6"><div class="flex items-center gap-4"><button class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 hover:scale-105"><!></button> <h1 class="text-xl font-bold text-transparent bg-clip-text bg-linear-to-r from-blue-600 to-blue-800 dark:from-blue-400 dark:to-blue-600 hidden sm:block"> </h1></div> <div class="flex items-center gap-3"><!> <!> <div class="flex items-center gap-3 px-4 py-2 rounded-xl bg-linear-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-800 shadow-sm"><div class="w-8 h-8 rounded-full bg-linear-to-br from-blue-500 to-blue-700 flex items-center justify-center text-white font-semibold text-sm shadow-md"> </div> <div class="hidden md:block"><span class="text-sm font-semibold text-gray-700 dark:text-gray-200 block"> </span> <!></div></div> <button class="flex items-center gap-2 px-4 py-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all duration-200 hover:scale-105 group"><!> <span class="text-sm font-medium hidden sm:inline"> </span></button></div></div></header>');function Ee(d,a){Z(a,!0);const s=()=>se(pe,"$t",n),[n,i]=oe();async function p(){try{const c=localStorage.getItem("refreshToken");c&&await me.logout(c)}catch(c){console.error("Logout error:",c)}finally{he(),ue("/login")}}var e=Ie(),t=o(e),y=o(t),f=o(y);f.__click=function(...c){a.onToggleSidebar?.apply(this,c)};var F=o(f);ye(F,{class:"w-5 h-5 text-gray-600 dark:text-gray-300"}),r(f);var b=u(f,2),k=o(b,!0);r(b),r(y);var L=u(y,2),w=o(L);Pe(w,{});var G=u(w,2);Ne(G,{});var M=u(G,2),z=o(M),J=o(z,!0);r(z);var R=u(z,2),l=o(R),S=o(l,!0);r(l);var K=u(l,2);{var x=c=>{var _=He(),P=o(_,!0);r(_),I(()=>m(P,B.user.role)),v(c,_)};E(K,c=>{B.user?.role&&c(x)})}r(R),r(M);var h=u(M,2);h.__click=p;var N=o(h);$e(N,{class:"w-4 h-4 group-hover:rotate-12 transition-transform duration-200"});var V=u(N,2),T=o(V,!0);r(V),r(h),r(L),r(t),r(e),I((c,_,P,H,Q)=>{ae(f,"aria-label",c),m(k,_),m(J,P),m(S,B.user?.username||"User"),ae(h,"aria-label",H),m(T,Q)},[()=>s()("common.toggleSidebar"),()=>s()("app.title"),()=>B.user?.username?.charAt(0).toUpperCase()||"?",()=>s()("auth.logout"),()=>s()("auth.logout")]),v(d,e),ee(),i()}Y(["click"]);export{Ee as H};
