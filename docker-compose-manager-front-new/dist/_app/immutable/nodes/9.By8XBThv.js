import{c as Qe,a as s,d as It,f as d}from"../chunks/AQshOrwM.js";import{f as ge,p as bt,a as ht,c as r,s as a,r as t,g as e,e as k,t as g,M as et,b as Tt,k as rr,u as Nt,d as yt,n as nt}from"../chunks/BGIsFGxD.js";import{s as i}from"../chunks/CK6JJk40.js";import{e as Fe,i as Ie,s as _e}from"../chunks/BIIYjbM9.js";import{l as ar,s as sr,i as p,a as ft,b as dt}from"../chunks/BBZnTf8d.js";import{p as or}from"../chunks/DSIao-Rg.js";import{I as nr,s as ir,t as kt}from"../chunks/DNE0aubT.js";import{c as tt}from"../chunks/BVN2tSMg.js";import{c as Ae}from"../chunks/C1OtUQtP.js";import{S as Lt}from"../chunks/XOV-vLG0.js";import{L as dr}from"../chunks/BUAbUYdX.js";import"../chunks/lu7k8_0b.js";import"../chunks/BUApaBEI.js";import{c as wt}from"../chunks/Dw9yDBlQ.js";import{T as vr,V as cr,C as lr,L as it,g as gr,a as pr,b as xr,f as Ve,A as ur,c as mr}from"../chunks/DKweYkQe.js";import"../chunks/CVCFcqur.js";import{H as _t,A as Mt}from"../chunks/DEJ9E6tN.js";import{u as yr}from"../chunks/ygxaYeff.js";import{c as De}from"../chunks/Bri70JPp.js";import{R as _r}from"../chunks/BLWlkucS.js";import{t as V}from"../chunks/CUtoxrzn.js";import{P as Ot,S as Et}from"../chunks/B8pBSBZ4.js";import{Z as br}from"../chunks/CnqUAwLX.js";import{R as Ut}from"../chunks/Do2vTpg_.js";import{T as qt}from"../chunks/BJjaivRV.js";function hr(Te,B){const ee=ar(B,["children","$$slots","$$events","$$legacy"]);const n=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3"}],["path",{d:"M12 12V8"}]];nr(Te,sr({name:"network"},()=>ee,{get iconNode(){return n},children:(je,L)=>{var v=Qe(),Q=ge(v);ir(Q,B,"default",{}),s(je,v)},$$slots:{default:!0}}))}const fr={COMPOSE_FILE_EDITING:!1};var kr=d('<div class="bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 shadow-lg p-6"><h3 class="text-lg font-semibold text-gray-900 dark:text-white">Compose File Details</h3> <p class="text-sm text-gray-600 dark:text-gray-400 mt-2">Loading...</p></div>'),wr=d('<div class="bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 shadow-lg p-6"><h3 class="text-lg font-semibold text-gray-900 dark:text-white">Compose File Details</h3> <p class="text-sm text-gray-600 dark:text-gray-400 mt-2">No details available</p></div>'),jr=d('<span class="text-xs text-gray-500 dark:text-gray-400 italic">File editing temporarily disabled</span>'),$r=d('<span class="text-xs text-gray-600 dark:text-gray-400 font-mono bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded"> </span>'),Rr=d('<div class="flex gap-2"><span class="text-blue-600 dark:text-blue-400 font-semibold"> </span> <span class="text-gray-700 dark:text-gray-300 break-all"> </span></div>'),Sr=d('<div class="space-y-1"><div class="flex items-center gap-1 text-xs text-gray-600 dark:text-gray-400"><!> <span> </span></div> <div class="bg-gray-50 dark:bg-gray-900/50 rounded p-2 text-xs font-mono space-y-1 max-h-32 overflow-y-auto"></div></div>'),Pr=d('<span class="text-xs bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-2 py-1 rounded font-mono"> </span>'),Cr=d('<div class="space-y-1"><div class="text-xs text-gray-600 dark:text-gray-400"> </div> <div class="flex flex-wrap gap-1"></div></div>'),Dr=d('<div class="text-gray-700 dark:text-gray-300"> </div>'),Fr=d('<div class="space-y-1"><div class="text-xs text-gray-600 dark:text-gray-400"> </div> <div class="bg-gray-50 dark:bg-gray-900/50 rounded p-2 text-xs font-mono space-y-1 max-h-24 overflow-y-auto"></div></div>'),Tr=d('<div class="flex gap-2"><span class="text-blue-600 dark:text-blue-400"> </span> <span class="text-gray-700 dark:text-gray-300"> </span></div>'),Nr=d('<div class="space-y-1"><div class="text-xs text-gray-600 dark:text-gray-400"> </div> <div class="bg-gray-50 dark:bg-gray-900/50 rounded p-2 text-xs font-mono space-y-1 max-h-24 overflow-y-auto"></div></div>'),Lr=d('<span class="bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-1 rounded"> </span>'),Mr=d('<span class="bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 px-2 py-1 rounded"> </span>'),Or=d('<div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4 space-y-3 bg-gray-50 dark:bg-gray-900/50"><div class="flex items-center justify-between"><h4 class="font-semibold text-sm text-gray-900 dark:text-white"> </h4> <!></div> <!> <!> <!> <!> <div class="flex flex-wrap gap-2 text-xs"><!> <!></div></div>'),Er=d('<div class="space-y-3"><div class="flex items-center gap-2 text-gray-900 dark:text-white font-semibold"><!> <span> </span></div> <!></div>'),Ur=d('<span class="text-xs bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-2 py-1 rounded font-mono"> </span>'),qr=d('<span class="text-xs bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 px-2 py-1 rounded inline-block">external</span>'),Ir=d('<div class="border border-gray-200 dark:border-gray-700 rounded-lg p-3 space-y-2 bg-gray-50 dark:bg-gray-900/50"><div class="flex items-center justify-between"><h4 class="font-semibold text-sm text-gray-900 dark:text-white"> </h4> <!></div> <!></div>'),Qr=d('<div class="space-y-2"><div class="flex items-center gap-2 text-gray-900 dark:text-white font-semibold"><!> <span> </span></div> <!></div>'),Wr=d('<span class="text-xs bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-2 py-1 rounded font-mono"> </span>'),Kr=d('<span class="text-xs bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 px-2 py-1 rounded inline-block">external</span>'),Vr=d('<div class="border border-gray-200 dark:border-gray-700 rounded-lg p-3 space-y-2 bg-gray-50 dark:bg-gray-900/50"><div class="flex items-center justify-between"><h4 class="font-semibold text-sm text-gray-900 dark:text-white"> </h4> <!></div> <!></div>'),Ar=d('<div class="space-y-2"><div class="flex items-center gap-2 text-gray-900 dark:text-white font-semibold"><!> <span> </span></div> <!></div>'),Br=d('<div class="bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden"><div class="px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between"><h3 class="text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2">Compose File Details</h3> <!></div> <div class="p-6 space-y-4"><!> <!> <!></div></div>');function zr(Te,B){bt(B,!0);const ee=()=>dt(kt,"$t",n),[n,je]=ft(),L=wt(()=>({queryKey:["projectParsedDetails",B.projectName],queryFn:()=>Ae.getProjectParsedDetails(B.projectName)}));var v=Qe(),Q=ge(v);{var pe=te=>{var re=kr();s(te,re)},We=te=>{var re=Qe(),be=ge(re);{var Be=xe=>{var M=wr();s(xe,M)},ze=xe=>{const M=k(()=>L.data);var he=Br(),Ne=r(he),He=a(r(Ne),2);{var Le=$=>{var R=Qe(),T=ge(R);{var E=U=>{var de=jr();s(U,de)};p(T,U=>{B.projectPath&&U(E)},!0)}s($,R)};p(He,$=>{B.projectPath&&fr.COMPOSE_FILE_EDITING||$(Le,!1)})}t(Ne);var o=a(Ne,2),y=r(o);{var h=$=>{var R=Er(),T=r(R),E=r(T);vr(E,{class:"h-4 w-4 text-blue-600 dark:text-blue-400"});var U=a(E,2),de=r(U);t(U),t(T);var ve=a(T,2);Fe(ve,17,()=>Object.entries(e(M).services),Ie,(q,ce)=>{var c=k(()=>et(e(ce),2));let P=()=>e(c)[0];const x=k(()=>e(c)[1]);var I=Or(),C=r(I),F=r(C),H=r(F,!0);t(F);var le=a(F,2);{var W=_=>{var b=$r(),S=r(b,!0);t(b),g(()=>i(S,e(x).image)),s(_,b)};p(le,_=>{e(x).image&&_(W)})}t(C);var l=a(C,2);{var z=_=>{var b=Sr(),S=r(b),G=r(S);cr(G,{class:"h-3 w-3"});var Z=a(G,2),A=r(Z,!0);t(Z),t(S);var me=a(S,2);Fe(me,21,()=>Object.entries(e(x).environment),Ie,(K,ke)=>{var Re=k(()=>et(e(ke),2));let we=()=>e(Re)[0],Oe=()=>e(Re)[1];var Se=Rr(),Pe=r(Se),Ke=r(Pe);t(Pe);var at=a(Pe,2),ct=r(at,!0);t(at),t(Se),g(()=>{i(Ke,`${we()??""}:`),i(ct,Oe()||'""')}),s(K,Se)}),t(me),t(b),g(K=>i(A,K),[()=>ee()("common.environmentVariables")]),s(_,b)};p(l,_=>{e(x).environment&&Object.keys(e(x).environment).length>0&&_(z)})}var w=a(l,2);{var N=_=>{var b=Cr(),S=r(b),G=r(S,!0);t(S);var Z=a(S,2);Fe(Z,21,()=>e(x).ports,Ie,(A,me)=>{var K=Pr(),ke=r(K,!0);t(K),g(()=>i(ke,e(me))),s(A,K)}),t(Z),t(b),g(A=>i(G,A),[()=>ee()("containers.ports")]),s(_,b)};p(w,_=>{e(x).ports&&e(x).ports.length>0&&_(N)})}var oe=a(w,2);{var Me=_=>{var b=Fr(),S=r(b),G=r(S,!0);t(S);var Z=a(S,2);Fe(Z,21,()=>e(x).volumes,Ie,(A,me)=>{var K=Dr(),ke=r(K,!0);t(K),g(()=>i(ke,e(me))),s(A,K)}),t(Z),t(b),g(A=>i(G,A),[()=>ee()("containers.volumes")]),s(_,b)};p(oe,_=>{e(x).volumes&&e(x).volumes.length>0&&_(Me)})}var u=a(oe,2);{var j=_=>{var b=Nr(),S=r(b),G=r(S,!0);t(S);var Z=a(S,2);Fe(Z,21,()=>Object.entries(e(x).labels),Ie,(A,me)=>{var K=k(()=>et(e(me),2));let ke=()=>e(K)[0],Re=()=>e(K)[1];var we=Tr(),Oe=r(we),Se=r(Oe);t(Oe);var Pe=a(Oe,2),Ke=r(Pe,!0);t(Pe),t(we),g(()=>{i(Se,`${ke()??""}:`),i(Ke,Re())}),s(A,we)}),t(Z),t(b),g(A=>i(G,A),[()=>ee()("containers.labels")]),s(_,b)};p(u,_=>{e(x).labels&&Object.keys(e(x).labels).length>0&&_(j)})}var ne=a(u,2),X=r(ne);{var ue=_=>{var b=Lr(),S=r(b);t(b),g(()=>i(S,`restart: ${e(x).restart??""}`)),s(_,b)};p(X,_=>{e(x).restart&&_(ue)})}var vt=a(X,2);{var rt=_=>{var b=Mr(),S=r(b);t(b),g(G=>i(S,`depends on: ${G??""}`),[()=>e(x).dependsOn.join(", ")]),s(_,b)};p(vt,_=>{e(x).dependsOn&&e(x).dependsOn.length>0&&_(rt)})}t(ne),t(I),g(()=>i(H,P())),s(q,I)}),t(R),g(q=>i(de,`Services (${q??""})`),[()=>Object.keys(e(M).services).length]),s($,R)};p(y,$=>{e(M).services&&Object.keys(e(M).services).length>0&&$(h)})}var O=a(y,2);{var $e=$=>{var R=Qr(),T=r(R),E=r(T);hr(E,{class:"h-4 w-4 text-green-600 dark:text-green-400"});var U=a(E,2),de=r(U);t(U),t(T);var ve=a(T,2);Fe(ve,17,()=>Object.entries(e(M).networks),Ie,(q,ce)=>{var c=k(()=>et(e(ce),2));let P=()=>e(c)[0];const x=k(()=>e(c)[1]);var I=Ir(),C=r(I),F=r(C),H=r(F,!0);t(F);var le=a(F,2);{var W=w=>{var N=Ur(),oe=r(N);t(N),g(()=>i(oe,`driver: ${e(x).driver??""}`)),s(w,N)};p(le,w=>{e(x).driver&&w(W)})}t(C);var l=a(C,2);{var z=w=>{var N=qr();s(w,N)};p(l,w=>{e(x).external&&w(z)})}t(I),g(()=>i(H,P())),s(q,I)}),t(R),g(q=>i(de,`Networks (${q??""})`),[()=>Object.keys(e(M).networks).length]),s($,R)};p(O,$=>{e(M).networks&&Object.keys(e(M).networks).length>0&&$($e)})}var fe=a(O,2);{var ae=$=>{var R=Ar(),T=r(R),E=r(T);_t(E,{class:"h-4 w-4 text-orange-600 dark:text-orange-400"});var U=a(E,2),de=r(U);t(U),t(T);var ve=a(T,2);Fe(ve,17,()=>Object.entries(e(M).volumes),Ie,(q,ce)=>{var c=k(()=>et(e(ce),2));let P=()=>e(c)[0];const x=k(()=>e(c)[1]);var I=Vr(),C=r(I),F=r(C),H=r(F,!0);t(F);var le=a(F,2);{var W=w=>{var N=Wr(),oe=r(N);t(N),g(()=>i(oe,`driver: ${e(x).driver??""}`)),s(w,N)};p(le,w=>{e(x).driver&&w(W)})}t(C);var l=a(C,2);{var z=w=>{var N=Kr();s(w,N)};p(l,w=>{e(x).external&&w(z)})}t(I),g(()=>i(H,P())),s(q,I)}),t(R),g(q=>i(de,`Volumes (${q??""})`),[()=>Object.keys(e(M).volumes).length]),s($,R)};p(fe,$=>{e(M).volumes&&Object.keys(e(M).volumes).length>0&&$(ae)})}t(o),t(he),s(xe,he)};p(be,xe=>{L.error||!L.data?xe(Be):xe(ze,!1)},!0)}s(te,re)};p(Q,te=>{L.isLoading?te(pe):te(We,!1)})}s(Te,v),ht(),je()}It(["click"]);var Hr=d('<div class="bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 shadow-lg p-6"><div class="flex items-center gap-2 mb-4"><!> <h3 class="text-lg font-semibold text-gray-900 dark:text-white"> </h3></div> <p class="text-sm text-gray-600 dark:text-gray-400"> </p></div>'),Xr=d('<span class="text-sm font-mono text-blue-600 dark:text-blue-400"> </span>'),Gr=d('<span class="text-sm font-mono text-green-600 dark:text-green-400"> </span>'),Zr=d('<span class="text-sm font-mono text-purple-600 dark:text-purple-400"> </span>'),Jr=d('<span class="text-sm font-mono text-pink-600 dark:text-pink-400"> </span>'),Yr=d('<div class="bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden"><div class="px-6 py-4 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-2"><!> <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Project Statistics</h3></div></div> <div class="p-6 space-y-6"><div class="space-y-3"><div class="flex items-center justify-between"><div class="flex items-center gap-2"><!> <span class="text-sm font-semibold text-gray-900 dark:text-white">CPU Usage</span></div> <!></div> <!></div> <div class="space-y-3"><div class="flex items-center justify-between"><div class="flex items-center gap-2"><!> <span class="text-sm font-semibold text-gray-900 dark:text-white">Memory</span></div> <!></div> <!></div> <div class="space-y-3"><div class="flex items-center justify-between"><div class="flex items-center gap-2"><svg class="h-4 w-4 text-purple-600 dark:text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg> <span class="text-sm font-semibold text-gray-900 dark:text-white">Network (RX / TX)</span></div> <!></div> <!></div> <div class="space-y-3"><div class="flex items-center justify-between"><div class="flex items-center gap-2"><!> <span class="text-sm font-semibold text-gray-900 dark:text-white">Disk IO (Read / Write)</span></div> <!></div> <!></div></div></div>');function ea(Te,B){bt(B,!0);const ee=()=>dt(kt,"$t",n),[n,je]=ft();let L=Tt(rr([])),v=Tt(null);const Q=k(()=>B.services.some(o=>o.state==="Running")),pe=k(()=>B.services.filter(o=>o.state==="Running").map(o=>o.id)),We=wt(()=>({queryKey:["projectStats",e(pe).sort().join(",")],queryFn:async()=>{const o=e(pe).map(async h=>{try{return await tt.getStats(h)}catch(O){return O?.response?.status!==404&&console.error(`Failed to fetch stats for service ${h}:`,O),null}});return(await Promise.all(o)).filter(h=>h!==null)},refetchInterval:1e3,enabled:e(Q),retry:!1}));Nt(()=>{const o=We.data;if(!o||o.length===0)return;const y={cpuPercentage:0,memoryUsage:0,memoryLimit:0,memoryPercentage:0,networkRx:0,networkTx:0,diskRead:0,diskWrite:0,timestamp:new Date};o.forEach(h=>{y.cpuPercentage+=h.cpuPercentage,y.memoryUsage+=h.memoryUsage,y.memoryLimit+=h.memoryLimit,y.networkRx+=h.networkRx,y.networkTx+=h.networkTx,y.diskRead+=h.diskRead,y.diskWrite+=h.diskWrite}),y.memoryLimit>0&&(y.memoryPercentage=y.memoryUsage/y.memoryLimit*100),yt(v,y,!0)}),Nt(()=>{if(!e(Q)||!e(v)){yt(L,[],!0);return}const o=setInterval(()=>{if(!e(v))return;const y={...e(v),timestamp:new Date};yt(L,[...e(L),y].filter(h=>{const O=new Date(Date.now()-3e5);return h.timestamp>=O}),!0)},1e3);return()=>clearInterval(o)});const te=k(()=>gr(e(L),o=>o.memoryUsage)),re=k(()=>pr(e(L),o=>Math.max(o.networkRx,o.networkTx))),be=k(()=>xr(e(L),o=>Math.max(o.diskRead,o.diskWrite))),Be=k(()=>e(L).map(o=>({timestamp:o.timestamp,cpu:o.cpuPercentage}))),ze=k(()=>e(L).map(o=>({timestamp:o.timestamp,memory:o.memoryUsage/e(te).divisor}))),xe=k(()=>e(L).map(o=>({timestamp:o.timestamp,rx:o.networkRx/e(re).divisor,tx:o.networkTx/e(re).divisor}))),M=k(()=>e(L).map(o=>({timestamp:o.timestamp,read:o.diskRead/e(be).divisor,write:o.diskWrite/e(be).divisor})));var he=Qe(),Ne=ge(he);{var He=o=>{var y=Hr(),h=r(y),O=r(h);Mt(O,{class:"h-5 w-5 text-gray-600 dark:text-gray-400"});var $e=a(O,2),fe=r($e,!0);t($e),t(h);var ae=a(h,2),$=r(ae,!0);t(ae),t(y),g((R,T)=>{i(fe,R),i($,T)},[()=>ee()("common.projectStatistics"),()=>ee()("common.noRunningServices")]),s(o,y)},Le=o=>{var y=Yr(),h=r(y),O=r(h),$e=r(O);Mt($e,{class:"h-5 w-5 text-gray-600 dark:text-gray-400"}),nt(2),t(O),t(h);var fe=a(h,2),ae=r(fe),$=r(ae),R=r($),T=r(R);lr(T,{class:"h-4 w-4 text-blue-600 dark:text-blue-400"}),nt(2),t(R);var E=a(R,2);{var U=u=>{var j=Xr(),ne=r(j);t(j),g(X=>i(ne,`${X??""}%`),[()=>e(v).cpuPercentage.toFixed(2)]),s(u,j)};p(E,u=>{e(v)&&u(U)})}t($);var de=a($,2);it(de,{get data(){return e(Be)},lines:[{key:"cpu",label:"CPU %",color:"#3b82f6"}],height:150,formatValue:u=>`${u.toFixed(1)}%`}),t(ae);var ve=a(ae,2),q=r(ve),ce=r(q),c=r(ce);_t(c,{class:"h-4 w-4 text-green-600 dark:text-green-400"}),nt(2),t(ce);var P=a(ce,2);{var se=u=>{var j=Gr(),ne=r(j);t(j),g((X,ue)=>i(ne,`${X??""} / ${ue??""}`),[()=>Ve(e(v).memoryUsage),()=>Ve(e(v).memoryLimit)]),s(u,j)};p(P,u=>{e(v)&&u(se)})}t(q);var x=a(q,2);{let u=k(()=>[{key:"memory",label:`Memory (${e(te).unit})`,color:"#10b981"}]);it(x,{get data(){return e(ze)},get lines(){return e(u)},height:150,formatValue:j=>`${j.toFixed(2)} ${e(te).unit}`})}t(ve);var I=a(ve,2),C=r(I),F=a(r(C),2);{var H=u=>{var j=Zr(),ne=r(j);t(j),g((X,ue)=>i(ne,`${X??""} / ${ue??""}`),[()=>Ve(e(v).networkRx),()=>Ve(e(v).networkTx)]),s(u,j)};p(F,u=>{e(v)&&u(H)})}t(C);var le=a(C,2);{let u=k(()=>[{key:"rx",label:`RX (${e(re).unit})`,color:"#8b5cf6"},{key:"tx",label:`TX (${e(re).unit})`,color:"#f59e0b"}]);it(le,{get data(){return e(xe)},get lines(){return e(u)},height:150,formatValue:j=>`${j.toFixed(2)} ${e(re).unit}`})}t(I);var W=a(I,2),l=r(W),z=r(l),w=r(z);_t(w,{class:"h-4 w-4 text-pink-600 dark:text-pink-400"}),nt(2),t(z);var N=a(z,2);{var oe=u=>{var j=Jr(),ne=r(j);t(j),g((X,ue)=>i(ne,`${X??""} / ${ue??""}`),[()=>Ve(e(v).diskRead),()=>Ve(e(v).diskWrite)]),s(u,j)};p(N,u=>{e(v)&&u(oe)})}t(l);var Me=a(l,2);{let u=k(()=>[{key:"read",label:`Read (${e(be).unit})`,color:"#8b5cf6"},{key:"write",label:`Write (${e(be).unit})`,color:"#ec4899"}]);it(Me,{get data(){return e(M)},get lines(){return e(u)},height:150,formatValue:j=>`${j.toFixed(2)} ${e(be).unit}`})}t(W),t(fe),t(y),s(o,y)};p(Ne,o=>{e(Q)?o(Le,!1):o(He)})}s(Te,he),ht(),je()}var ta=d('<div class="text-center py-8"><p class="text-red-500"> </p> <button class="mt-4 px-4 py-2 bg-gray-200 dark:bg-gray-700 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"> </button></div>'),ra=d('<button class="p-1.5 text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/20 rounded transition-colors cursor-pointer"><!></button> <button class="p-1.5 text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/20 rounded transition-colors cursor-pointer"><!></button>',1),aa=d('<button class="p-1.5 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors cursor-pointer"><!></button> <button class="p-1.5 text-yellow-600 hover:text-yellow-800 dark:text-yellow-400 dark:hover:text-yellow-300 hover:bg-yellow-50 dark:hover:bg-yellow-900/20 rounded transition-colors cursor-pointer"><!></button>',1),sa=d('<button class="p-1.5 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors cursor-pointer"><!></button>'),oa=d("<span> </span>"),na=d('<div class="p-6 text-center text-gray-500 dark:text-gray-400"> </div>'),ia=d('<button class="p-1.5 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors cursor-pointer"><!></button> <button class="p-1.5 text-yellow-600 hover:text-yellow-800 dark:text-yellow-400 dark:hover:text-yellow-300 hover:bg-yellow-50 dark:hover:bg-yellow-900/20 rounded transition-colors cursor-pointer"><!></button>',1),da=d('<button class="p-1.5 text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/20 rounded transition-colors cursor-pointer"><!></button>'),va=d('<tr class="hover:bg-white dark:hover:bg-gray-800 transition-all"><td class="px-8 py-5 whitespace-nowrap"><div class="text-sm font-medium text-gray-900 dark:text-white"> </div> <div class="text-xs text-gray-500 dark:text-gray-400 font-mono"> </div></td><td class="px-8 py-5"><div class="text-sm text-gray-900 dark:text-gray-300"> </div></td><td class="px-8 py-5 whitespace-nowrap"><!></td><td class="px-8 py-5"><div class="text-sm text-gray-500 dark:text-gray-400"> </div></td><td class="px-8 py-5 whitespace-nowrap text-sm"><div class="flex items-center gap-3"><!> <button class="p-1.5 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors cursor-pointer"><!></button></div></td></tr>'),ca=d('<div class="overflow-x-auto"><table class="w-full"><thead class="bg-white/50 dark:bg-gray-800/50 border-b border-gray-200 dark:border-gray-700"><tr><th class="px-8 py-5 text-left text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider"> </th><th class="px-8 py-5 text-left text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider"> </th><th class="px-8 py-5 text-left text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider"> </th><th class="px-8 py-5 text-left text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider"> </th><th class="px-8 py-5 text-left text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider"> </th></tr></thead><tbody class="divide-y divide-gray-100 dark:divide-gray-700"></tbody></table></div>'),la=d('<div class="h-[500px] resize-y overflow-auto min-h-[500px] max-h-[1000px]"><!></div>'),ga=d('<div class="bg-linear-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-2xl border border-gray-200 dark:border-gray-700 overflow-visible shadow-lg hover:shadow-2xl transition-all duration-300"><div class="bg-white dark:bg-gray-800 px-6 py-4 rounded-t-2xl border-b border-gray-200 dark:border-gray-700"><div class="flex items-center justify-between"><div class="flex items-center gap-4"><h3 class="text-lg font-semibold text-gray-900 dark:text-white"> </h3> <!></div> <div class="flex gap-2"><!> <!> <!></div></div> <div class="mt-2 text-sm text-gray-600 dark:text-gray-400"><!></div></div> <!></div> <div class="grid grid-cols-1 lg:grid-cols-2 gap-6"><div><!></div> <div><!></div></div> <div class="w-full"><!></div>',1),pa=d('<div class="space-y-8"><div class="mb-8"><div class="flex items-center justify-between"><div class="flex items-center gap-4"><a href="/compose/projects" class="p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors" title="Back to projects"><!></a> <div><h1 class="text-4xl font-bold text-gray-900 dark:text-white mb-3"> </h1> <p class="text-lg text-gray-600 dark:text-gray-400"> </p></div></div> <button class="flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"><!> </button></div></div> <!></div>');function qa(Te,B){bt(B,!0);const ee=()=>dt(or,"$page",je),n=()=>dt(kt,"$t",je),[je,L]=ft(),v=k(()=>ee().params.projectName?decodeURIComponent(ee().params.projectName):""),Q=yr(),pe=wt(()=>({queryKey:["compose","project",e(v)],queryFn:()=>Ae.getProjectDetails(e(v)),enabled:!!e(v),refetchInterval:5e3})),We=De(()=>({mutationFn:({detach:c,forceRecreate:P})=>Ae.upProject(e(v),{detach:c,forceRecreate:P}),onSuccess:()=>{Q.invalidateQueries({queryKey:["compose","project",e(v)]}),V.success(n()("compose.upSuccess"))},onError:()=>V.error(n()("compose.failedToLoadProject"))})),te=De(()=>({mutationFn:()=>Ae.downProject(e(v)),onSuccess:()=>{Q.invalidateQueries({queryKey:["compose","project",e(v)]}),V.success(n()("compose.downSuccess"))},onError:()=>V.error(n()("compose.failedToLoadProject"))})),re=De(()=>({mutationFn:()=>Ae.restartProject(e(v)),onSuccess:()=>{Q.invalidateQueries({queryKey:["compose","project",e(v)]}),V.success(n()("compose.restartSuccess"))},onError:()=>V.error(n()("compose.failedToLoadProject"))})),be=De(()=>({mutationFn:()=>Ae.stopProject(e(v)),onSuccess:()=>{Q.invalidateQueries({queryKey:["compose","project",e(v)]}),V.success(n()("compose.stopSuccess"))},onError:()=>V.error(n()("compose.failedToLoadProject"))})),Be=De(()=>({mutationFn:c=>tt.start(c),onSuccess:()=>{Q.invalidateQueries({queryKey:["compose","project",e(v)]}),V.success(n()("containers.startSuccess"))},onError:()=>V.error(n()("containers.failedToStart"))})),ze=De(()=>({mutationFn:c=>tt.stop(c),onSuccess:()=>{Q.invalidateQueries({queryKey:["compose","project",e(v)]}),V.success(n()("containers.stopSuccess"))},onError:()=>V.error(n()("containers.failedToStop"))})),xe=De(()=>({mutationFn:c=>tt.restart(c),onSuccess:()=>{Q.invalidateQueries({queryKey:["compose","project",e(v)]}),V.success(n()("containers.restartSuccess"))},onError:()=>V.error(n()("containers.failedToRestart"))})),M=De(()=>({mutationFn:({containerId:c,force:P})=>tt.remove(c,P),onSuccess:()=>{Q.invalidateQueries({queryKey:["compose","project",e(v)]}),V.success(n()("containers.removeSuccess"))},onError:()=>V.error(n()("containers.failedToRemove"))}));function he(c){switch(c){case"Running":case"Restarting":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"Exited":case"Down":case"Stopped":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"Degraded":default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}}function Ne(c){const se=c==="Running"?n()("compose.confirmRemoveRunningWithName").replace("{name}",e(v)):n()("compose.confirmRemoveWithName").replace("{name}",e(v));confirm(se)&&te.mutate()}function He(c){const P=c.state==="Running",se=P?n()("containers.confirmRemoveRunningWithName").replace("{name}",c.name):n()("containers.confirmRemoveWithName").replace("{name}",c.name);confirm(se)&&M.mutate({containerId:c.id,force:P})}var Le=pa(),o=r(Le),y=r(o),h=r(y),O=r(h),$e=r(O);ur($e,{class:"w-5 h-5"}),t(O);var fe=a(O,2),ae=r(fe),$=r(ae,!0);t(ae);var R=a(ae,2),T=r(R,!0);t(R),t(fe),t(h);var E=a(h,2);E.__click=()=>pe.refetch();var U=r(E);_r(U,{class:"w-4 h-4"});var de=a(U);t(E),t(y),t(o);var ve=a(o,2);{var q=c=>{{let P=k(()=>n()("compose.loadingDetails"));dr(c,{get message(){return e(P)}})}},ce=c=>{var P=Qe(),se=ge(P);{var x=C=>{var F=ta(),H=r(F),le=r(H,!0);t(H);var W=a(H,2);W.__click=()=>history.back();var l=r(W,!0);t(W),t(F),g((z,w)=>{i(le,z),i(l,w)},[()=>n()("compose.failedToLoadProject"),()=>n()("compose.backToProjects")]),s(C,F)},I=C=>{var F=Qe(),H=ge(F);{var le=W=>{const l=k(()=>pe.data);var z=ga(),w=ge(z),N=r(w),oe=r(N),Me=r(oe),u=r(Me),j=r(u,!0);t(u);var ne=a(u,2);{let m=k(()=>he(e(l).state));Lt(ne,{get class(){return e(m)},get status(){return e(l).state}})}t(Me);var X=a(Me,2),ue=r(X);{var vt=m=>{var f=ra(),D=ge(f);D.__click=()=>We.mutate({detach:!0});var J=r(D);Ot(J,{class:"w-4 h-4"}),t(D);var ie=a(D,2);ie.__click=()=>We.mutate({detach:!0,forceRecreate:!0});var Ee=r(ie);br(Ee,{class:"w-4 h-4"}),t(ie),g((Xe,Ue)=>{_e(D,"title",Xe),_e(ie,"title",Ue)},[()=>n()("containers.start"),()=>n()("compose.forceRecreate")]),s(m,f)};p(ue,m=>{(e(l).state==="Down"||e(l).state==="Stopped"||e(l).state==="Exited"||e(l).state==="Degraded"||e(l).state==="Created")&&m(vt)})}var rt=a(ue,2);{var _=m=>{var f=aa(),D=ge(f);D.__click=()=>re.mutate();var J=r(D);Ut(J,{class:"w-4 h-4"}),t(D);var ie=a(D,2);ie.__click=()=>be.mutate();var Ee=r(ie);Et(Ee,{class:"w-4 h-4"}),t(ie),g((Xe,Ue)=>{_e(D,"title",Xe),_e(ie,"title",Ue)},[()=>n()("containers.restart"),()=>n()("containers.stop")]),s(m,f)};p(rt,m=>{(e(l).state==="Running"||e(l).state==="Degraded")&&m(_)})}var b=a(rt,2);{var S=m=>{var f=sa();f.__click=()=>Ne(e(l).state);var D=r(f);qt(D,{class:"w-4 h-4"}),t(f),g(J=>_e(f,"title",J),[()=>n()("containers.remove")]),s(m,f)};p(b,m=>{e(l).state!=="Down"&&m(S)})}t(X),t(oe);var G=a(oe,2),Z=r(G);{var A=m=>{var f=oa(),D=r(f);t(f),g(J=>i(D,`${J??""}: ${e(l).path??""}`),[()=>n()("compose.directoryPath")]),s(m,f)};p(Z,m=>{e(l).path&&m(A)})}t(G),t(N);var me=a(N,2);{var K=m=>{var f=na(),D=r(f,!0);t(f),g(J=>i(D,J),[()=>n()("compose.noServices")]),s(m,f)},ke=m=>{var f=ca(),D=r(f),J=r(D),ie=r(J),Ee=r(ie),Xe=r(Ee,!0);t(Ee);var Ue=a(Ee),Qt=r(Ue,!0);t(Ue);var lt=a(Ue),Wt=r(lt,!0);t(lt);var gt=a(lt),Kt=r(gt,!0);t(gt);var jt=a(gt),Vt=r(jt,!0);t(jt),t(ie),t(J);var $t=a(J);Fe($t,21,()=>e(l).services,Ge=>Ge.id,(Ge,Y)=>{var Ze=va(),Je=r(Ze),Ye=r(Je),At=r(Ye,!0);t(Ye);var Rt=a(Ye,2),Bt=r(Rt,!0);t(Rt),t(Je);var pt=a(Je),St=r(pt),zt=r(St,!0);t(St),t(pt);var xt=a(pt),Ht=r(xt);{let ye=k(()=>he(e(Y).state));Lt(Ht,{get class(){return e(ye)},get status(){return e(Y).state},size:"sm"})}t(xt);var ut=a(xt),Pt=r(ut),Xt=r(Pt,!0);t(Pt),t(ut);var Ct=a(ut),Dt=r(Ct),Ft=r(Dt);{var Gt=ye=>{var Ce=ia(),qe=ge(Ce);qe.__click=()=>xe.mutate(e(Y).id);var mt=r(qe);Ut(mt,{class:"w-4 h-4"}),t(qe);var ot=a(qe,2);ot.__click=()=>ze.mutate(e(Y).id);var Yt=r(ot);Et(Yt,{class:"w-4 h-4"}),t(ot),g((er,tr)=>{_e(qe,"title",er),_e(ot,"title",tr)},[()=>n()("containers.restart"),()=>n()("containers.stop")]),s(ye,Ce)},Zt=ye=>{var Ce=da();Ce.__click=()=>Be.mutate(e(Y).id);var qe=r(Ce);Ot(qe,{class:"w-4 h-4"}),t(Ce),g(mt=>_e(Ce,"title",mt),[()=>n()("containers.start")]),s(ye,Ce)};p(Ft,ye=>{e(Y).state==="Running"?ye(Gt):ye(Zt,!1)})}var st=a(Ft,2);st.__click=()=>He(e(Y));var Jt=r(st);qt(Jt,{class:"w-4 h-4"}),t(st),t(Dt),t(Ct),t(Ze),g(ye=>{i(At,e(Y).name),i(Bt,e(Y).id),i(zt,e(Y).image),i(Xt,e(Y).status),_e(st,"title",ye)},[()=>n()("containers.remove")]),s(Ge,Ze)}),t($t),t(D),t(f),g((Ge,Y,Ze,Je,Ye)=>{i(Xe,Ge),i(Qt,Y),i(Wt,Ze),i(Kt,Je),i(Vt,Ye)},[()=>n()("containers.name"),()=>n()("containers.image"),()=>n()("containers.state"),()=>n()("containers.status"),()=>n()("users.actions")]),s(m,f)};p(me,m=>{!e(l).services||e(l).services.length===0?m(K):m(ke,!1)})}t(w);var Re=a(w,2),we=r(Re),Oe=r(we);{let m=k(()=>e(l).composeFiles&&e(l).composeFiles.length>0?e(l).composeFiles[0]:void 0);zr(Oe,{get projectName(){return e(v)},get projectPath(){return e(m)}})}t(we);var Se=a(we,2),Pe=r(Se);ea(Pe,{get services(){return e(l).services}}),t(Se),t(Re);var Ke=a(Re,2),at=r(Ke);{var ct=m=>{var f=la(),D=r(f);mr(D,{get projectPath(){return e(l).path},get projectName(){return e(v)}}),t(f),s(m,f)};p(at,m=>{e(l).path&&m(ct)})}t(Ke),g(()=>i(j,e(l).name)),s(W,z)};p(H,W=>{pe.data&&W(le)},!0)}s(C,F)};p(se,C=>{pe.error?C(x):C(I,!1)},!0)}s(c,P)};p(ve,c=>{pe.isLoading?c(q):c(ce,!1)})}t(Le),g((c,P,se)=>{i($,e(v)),i(T,c),_e(E,"title",P),i(de,` ${se??""}`)},[()=>n()("compose.projectDetails"),()=>n()("common.refresh"),()=>n()("common.refresh")]),s(Te,Le),ht(),L()}It(["click"]);export{qa as component};
