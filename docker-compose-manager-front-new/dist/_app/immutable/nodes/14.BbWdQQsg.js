import{f as _,a as i,c as X,t as Y}from"../chunks/AQshOrwM.js";import"../chunks/CVCFcqur.js";import{p as ut,t as m,a as yt,s as o,c as a,f as R,r as t,g as x,L as ft,n as Z}from"../chunks/BGIsFGxD.js";import{s}from"../chunks/CK6JJk40.js";import{e as tt,i as _t}from"../chunks/BIIYjbM9.js";import{i as U,a as ht,b as wt}from"../chunks/BBZnTf8d.js";import{i as bt}from"../chunks/Cv2u5kBW.js";import{a as d,t as kt}from"../chunks/DNE0aubT.js";import{g as $t,a as Pt}from"../chunks/Ct22xFuM.js";import{L as Lt}from"../chunks/BUAbUYdX.js";import{B as Bt}from"../chunks/BZEFvVZa.js";import{B as et}from"../chunks/BvXwocyZ.js";import{c as St}from"../chunks/Dw9yDBlQ.js";import{P as Tt}from"../chunks/DiIcC3HA.js";import{S as qt}from"../chunks/CQbKlZ-S.js";const At={list:async e=>(await d.get("/permissions",{params:e})).data.data,get:async e=>(await d.get(`/permissions/${e}`)).data.data,create:async e=>(await d.post("/permissions",e)).data.data,update:async(e,n)=>(await d.put(`/permissions/${e}`,n)).data.data,delete:async e=>{await d.delete(`/permissions/${e}`)},bulkCreate:async e=>(await d.post("/permissions/bulk",e)).data.data,check:async e=>(await d.post("/permissions/check",e)).data.data,getMyPermissions:async()=>(await d.get("/permissions/me")).data.data,getUserPermissions:async e=>(await d.get(`/permissions/user/${e}`)).data.data,copyPermissions:async e=>{await d.post("/permissions/copy",e)}};var Nt=_("<!> ",1),Ct=_('<div class="text-center py-8 text-red-500"> </div>'),Qt=_('<div class="text-center py-12 bg-white dark:bg-gray-800 rounded-lg shadow"><!> <p class="text-gray-600 dark:text-gray-400"> </p></div>'),jt=_('<tr class="hover:bg-gray-50 dark:hover:bg-gray-700/50"><td class="px-6 py-4 whitespace-nowrap"><span class="font-medium text-gray-900 dark:text-white"> </span></td><td class="px-6 py-4 whitespace-nowrap"><!></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400"> </td><td class="px-6 py-4"><div class="flex flex-wrap gap-1"></div></td></tr>'),Ft=_('<div class="bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden"><table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700"><thead class="bg-gray-50 dark:bg-gray-900"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"> </th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Type</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Assigned To</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"> </th></tr></thead><tbody class="divide-y divide-gray-200 dark:divide-gray-700"></tbody></table></div>'),Gt=_('<div class="space-y-6"><div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"><div><h1 class="text-3xl font-bold text-gray-900 dark:text-white"> </h1> <p class="text-gray-600 dark:text-gray-400 mt-1"> </p></div> <!></div> <!></div>');function Zt(e,n){ut(n,!1);const p=()=>wt(kt,"$t",at),[at,st]=ht(),h=St(()=>({queryKey:["permissions"],queryFn:()=>At.list()}));bt();var S=Gt(),T=a(S),q=a(T),A=a(q),rt=a(A,!0);t(A);var z=o(A,2),it=a(z,!0);t(z),t(q);var ot=o(q,2);Bt(ot,{children:(r,v)=>{var $=Nt(),P=R($);Tt(P,{class:"w-4 h-4 mr-2"});var N=o(P);m(c=>s(N,` ${c??""}`),[()=>p()("permissions.addPermission")]),i(r,$)},$$slots:{default:!0}}),t(T);var dt=o(T,2);{var nt=r=>{{let v=ft(()=>p()("common.loading"));Lt(r,{get message(){return x(v)}})}},pt=r=>{var v=X(),$=R(v);{var P=c=>{var u=Ct(),C=a(u,!0);t(u),m(Q=>s(C,Q),[()=>p()("errors.generic")]),i(c,u)},N=c=>{var u=X(),C=R(u);{var Q=y=>{var l=Qt(),w=a(l);qt(w,{class:"w-12 h-12 mx-auto text-gray-400 mb-4"});var f=o(w,2),L=a(f,!0);t(f),t(l),m(b=>s(L,b),[()=>p()("permissions.noPermissionsAssigned")]),i(y,l)},ct=y=>{var l=Ft(),w=a(l),f=a(w),L=a(f),b=a(L),mt=a(b,!0);t(b);var D=o(b,3),vt=a(D,!0);t(D),t(L),t(f);var E=o(f);tt(E,5,()=>h.data,k=>k.id,(k,g)=>{var j=jt(),F=a(j),H=a(F),lt=a(H,!0);t(H),t(F);var G=o(F),gt=a(G);et(gt,{variant:"outline",children:(M,O)=>{Z();var B=Y();m(V=>s(B,V),[()=>$t(x(g).resourceType)]),i(M,B)},$$slots:{default:!0}}),t(G);var K=o(G),xt=a(K,!0);t(K);var I=o(K),J=a(I);tt(J,5,()=>Pt(x(g).permissions),_t,(M,O)=>{et(M,{variant:"secondary",children:(B,V)=>{Z();var W=Y();m(()=>s(W,x(O))),i(B,W)},$$slots:{default:!0}})}),t(J),t(I),t(j),m(()=>{s(lt,x(g).resourceName),s(xt,x(g).username||x(g).userGroupName||"-")}),i(k,j)}),t(E),t(w),t(l),m((k,g)=>{s(mt,k),s(vt,g)},[()=>p()("permissions.resourceName"),()=>p()("permissions.permissions")]),i(y,l)};U(C,y=>{!h.data||h.data.length===0?y(Q):y(ct,!1)},!0)}i(c,u)};U($,c=>{h.error?c(P):c(N,!1)},!0)}i(r,v)};U(dt,r=>{h.isLoading?r(nt):r(pt,!1)})}t(S),m((r,v)=>{s(rt,r),s(it,v)},[()=>p()("users.permissions"),()=>p()("users.permissionsSubtitle")]),i(e,S),yt(),st()}export{Zt as component};
