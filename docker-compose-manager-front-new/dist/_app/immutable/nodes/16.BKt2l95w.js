import{d as Fe,f as p,a as s,c as ee,t as Pe}from"../chunks/AQshOrwM.js";import{p as Be,b as re,k as te,f as D,t as y,a as Le,s as o,c as r,d as G,g as t,r as e,n as N,e as Qe}from"../chunks/BGIsFGxD.js";import{s as u}from"../chunks/CK6JJk40.js";import{e as je}from"../chunks/BIIYjbM9.js";import{i as S,a as Ae,b as Ee}from"../chunks/BBZnTf8d.js";import{U as Ke,u as ae}from"../chunks/BG8J9VMA.js";import{L as Me}from"../chunks/BUAbUYdX.js";import{C as Te}from"../chunks/B4PLRw1v.js";import{B as Ne}from"../chunks/BZEFvVZa.js";import{B as ze}from"../chunks/BvXwocyZ.js";import{t as He}from"../chunks/DNE0aubT.js";import{u as Ie}from"../chunks/ygxaYeff.js";import{c as Je}from"../chunks/Dw9yDBlQ.js";import{c as Oe}from"../chunks/Bri70JPp.js";import{t as oe}from"../chunks/CUtoxrzn.js";import{P as Re}from"../chunks/DiIcC3HA.js";import{U as se}from"../chunks/CQMvEO4T.js";import{U as Ve}from"../chunks/CGIVq8FV.js";import{S as We}from"../chunks/CvOlKTIm.js";import{T as Xe}from"../chunks/BJjaivRV.js";var Ye=p("<!> Create Group",1),Ze=p('<div class="text-center py-8 text-red-500"> </div>'),er=p('<div class="text-center py-12 bg-white dark:bg-gray-800 rounded-lg shadow"><!> <p class="text-gray-600 dark:text-gray-400">No user groups found</p></div>'),rr=p('<p class="text-sm text-gray-500 dark:text-gray-400"> </p>'),tr=p('<div class="bg-white dark:bg-gray-800 rounded-lg shadow border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-lg transition-shadow"><div class="p-6"><div class="flex items-start justify-between"><div class="flex items-center gap-3"><div class="p-2 rounded-lg bg-purple-100 dark:bg-purple-900/30"><!></div> <div><h3 class="font-semibold text-gray-900 dark:text-white"> </h3> <!></div></div></div> <div class="mt-4 flex items-center justify-between gap-4"><div class="flex items-center gap-4"><div class="flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400"><!> <span> </span></div> <!></div> <div class="flex gap-2"><button class="p-2 text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg transition-colors cursor-pointer" title="Edit"><!></button> <button class="p-2 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors cursor-pointer" title="Delete"><!></button></div></div></div></div>'),ar=p('<div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3"></div>'),or=p('<div class="space-y-6"><div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"><div><h1 class="text-3xl font-bold text-gray-900 dark:text-white"> </h1> <p class="text-gray-600 dark:text-gray-400 mt-1"> </p></div> <!></div> <!></div> <!> <!>',1);function Cr(ie,de){Be(de,!0);const f=()=>Ee(He,"$t",ne),[ne,le]=Ae();let n=re(te({open:!1,title:"",description:"",onConfirm:()=>{}})),_=re(te({open:!1,group:void 0}));const ve=Ie(),x=Je(()=>({queryKey:["userGroups"],queryFn:()=>ae.list()})),z=Oe(()=>({mutationFn:a=>ae.delete(a),onSuccess:()=>{ve.invalidateQueries({queryKey:["userGroups"]}),oe.success("Group deleted successfully")},onError:()=>oe.error("Failed to delete group")}));function ue(a,i){G(n,{open:!0,title:"Delete Group",description:`Are you sure you want to delete group "${i}"?`,onConfirm:()=>{z.mutate(a),t(n).open=!1}},!0)}function pe(a){return new Date(a).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}var H=or(),U=D(H),q=r(U),F=r(q),P=r(F),ce=r(P,!0);e(P);var I=o(P,2),me=r(I,!0);e(I),e(F);var ge=o(F,2);Ne(ge,{onclick:()=>G(_,{open:!0,group:void 0},!0),children:(a,i)=>{var b=Ye(),B=D(b);Re(B,{class:"w-4 h-4 mr-2"}),N(),s(a,b)},$$slots:{default:!0}}),e(q);var fe=o(q,2);{var _e=a=>{{let i=Qe(()=>f()("common.loading"));Me(a,{get message(){return t(i)}})}},xe=a=>{var i=ee(),b=D(i);{var B=c=>{var m=Ze(),L=r(m,!0);e(m),y(Q=>u(L,Q),[()=>f()("errors.generic")]),s(c,m)},ye=c=>{var m=ee(),L=D(m);{var Q=g=>{var l=er(),h=r(l);se(h,{class:"w-12 h-12 mx-auto text-gray-400 mb-4"}),N(2),e(l),s(g,l)},be=g=>{var l=ar();je(l,21,()=>x.data,h=>h.id,(h,d)=>{var j=tr(),O=r(j),A=r(O),R=r(A),E=r(R),we=r(E);se(we,{class:"w-5 h-5 text-purple-600 dark:text-purple-400"}),e(E);var V=o(E,2),K=r(V),ke=r(K,!0);e(K);var $e=o(K,2);{var Ce=v=>{var $=rr(),C=r($,!0);e($),y(()=>u(C,t(d).description)),s(v,$)};S($e,v=>{t(d).description&&v(Ce)})}e(V),e(R),e(A);var W=o(A,2),M=r(W),T=r(M),X=r(T);Ve(X,{class:"w-4 h-4"});var Y=o(X,2),De=r(Y);e(Y),e(T);var Ge=o(T,2);ze(Ge,{variant:"secondary",children:(v,$)=>{N();var C=Pe();y(qe=>u(C,qe),[()=>pe(t(d).createdAt)]),s(v,C)},$$slots:{default:!0}}),e(M);var Z=o(M,2),w=r(Z);w.__click=()=>G(_,{open:!0,group:t(d)},!0);var Se=r(w);We(Se,{class:"w-4 h-4"}),e(w);var k=o(w,2);k.__click=()=>ue(t(d).id,t(d).name);var Ue=r(k);Xe(Ue,{class:"w-4 h-4"}),e(k),e(Z),e(W),e(O),e(j),y(v=>{u(ke,t(d).name),u(De,`${t(d).memberCount??""} ${v??""}`),k.disabled=z.isPending},[()=>f()("users.members")]),s(h,j)}),e(l),s(g,l)};S(L,g=>{!x.data||x.data.length===0?g(Q):g(be,!1)},!0)}s(c,m)};S(b,c=>{x.error?c(B):c(ye,!1)},!0)}s(a,i)};S(fe,a=>{x.isLoading?a(_e):a(xe,!1)})}e(U);var J=o(U,2);Te(J,{get open(){return t(n).open},get title(){return t(n).title},get description(){return t(n).description},get onconfirm(){return t(n).onConfirm},oncancel:()=>t(n).open=!1});var he=o(J,2);Ke(he,{get open(){return t(_).open},get group(){return t(_).group},onClose:()=>G(_,{open:!1,group:void 0},!0)}),y((a,i)=>{u(ce,a),u(me,i)},[()=>f()("users.groups"),()=>f()("users.groupsSubtitle")]),s(ie,H),Le(),le()}Fe(["click"]);export{Cr as component};
